/* Mobile TOC slide-out fix (Material for MkDocs)
   - Does NOT touch your theme colors / left-nav highlight styles.
   - Only restores a working TOC panel on small screens using the built-in __toc checkbox.
*/

@media screen and (max-width: 59.9375em){

  /* Ensure the built-in TOC checkbox isn't accidentally hidden by custom CSS */
  #__toc.md-toggle{
    position: fixed;
    width: 1px !important;
    height: 1px !important;
    overflow: hidden !important;
    clip: rect(0,0,0,0) !important;
    clip-path: inset(50%) !important;
    white-space: nowrap !important;
  }

  /* TOC panel: hidden off-canvas by default */
  .md-sidebar--secondary{
    display: block !important;               /* override main.*.css 'display:none' */
    position: fixed !important;
    top: var(--md-header-height, 56px) !important;
    right: 0 !important;
    bottom: 0 !important;
    width: min(82vw, 320px) !important;
    max-width: 320px !important;
    height: calc(100vh - var(--md-header-height, 56px)) !important;
    transform: translateX(110%) !important;  /* keep off-screen */
    transition: transform 180ms ease !important;
    z-index: 10020 !important;
    background: var(--md-default-bg-color, #fff) !important;
    box-shadow: 0 8px 30px rgba(0,0,0,.25) !important;
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* When TOC toggle is checked, slide panel in */
  #__toc:checked ~ .md-container .md-sidebar--secondary{
    transform: translateX(0) !important;
  }

  /* If a TOC overlay label exists, make it behave like a scrim */
  label.md-overlay[for="__toc"]{
    display: none;
  }
  #__toc:checked ~ label.md-overlay[for="__toc"]{
    display: block !important;
    position: fixed !important;
    inset: 0 !important;
    z-index: 10010 !important;
    background: rgba(0,0,0,.35) !important;
  }

  /* Defensive: some custom rules may force translate via 'inset' or 'left' */
  .md-sidebar--secondary[style*="inset"],
  .md-sidebar--secondary[style*="left"]{
    left: auto !important;
  }
}
