/* ==========================================================================
   Fashion Star Wiki - V15
   Stable overrides (based on V14.2 + fixes) with WORKING palette toggle restored.
   - Fix: primary nav alignment for md-nav__container (index.md sections)
   - Fix: left-nav active bar vertical centering (bar follows container height)
   - Fix: mobile drawer back arrow/title overlap
   - Fix: mobile header title vertical centering + hide logo icon
   - Fix: right TOC line spacing tighter
   IMPORTANT: No CSS rules that hide/force-display palette toggle labels.
              This restores theme toggle functionality on BOTH desktop & mobile.
   Brand accent: #8641A9 | Dark bg: #131314
   ========================================================================== */

/* Brand + remove "default blue" by setting BOTH primary & accent tokens */
:root{
  --fs-accent: #8641A9;
  --fs-divider: rgba(0,0,0,0.12);

  --md-primary-fg-color: var(--fs-accent);
  --md-accent-fg-color: var(--fs-accent);
  --md-accent-fg-color--transparent: rgba(134, 65, 169, 0.12);

  --md-typeset-a-color: var(--fs-accent);
  --md-typeset-line-height: 1.8;
  --md-typeset-font-size: 16px;
}

/* Dark scheme */
[data-md-color-scheme="slate"]{
  --fs-divider: rgba(255,255,255,0.10);
  --md-default-bg-color: #131314;
  --md-default-bg-color--light: #1e1f20;
  --md-default-fg-color: #e3e3e3;
  --md-default-fg-color--light: #8e918f;
  --md-code-bg-color: #1e1f20;
}

/* Header */
.md-header{
  background-color: var(--fs-accent) !important;
}

/* Hide the logo button everywhere (you only want “Fashion Star Wiki”) */
.md-header__button.md-logo{
  display: none !important;
}

/* Keep layout stable: DO NOT force .md-main__inner to flex/grid */


/* Divider line between left nav and content (stable after JS hydration)
   Draw on the content column so it matches content height. */
@media screen and (min-width: 60em){
  .md-content{
    position: relative !important;
    z-index: 2 !important;
    min-height: 100vh;
    box-shadow: inset 1px 0 0 var(--fs-divider) !important;
  }
}

/* Right divider that ends with the TOC content height (not full viewport) */
@media screen and (min-width: 60em){
  .md-sidebar--secondary .md-nav--secondary{
    position: relative !important;
    padding-left: 14px !important; /* space between line and text */
  }
  .md-sidebar--secondary .md-nav--secondary::before{
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background: var(--fs-divider);
    pointer-events: none;
  }
}

.md-sidebar--primary{ border-right: none !important; }
.md-sidebar--secondary{ border-left: none !important; margin-left: 0 !important; }

/* Ensure the right TOC sidebar remains visible on desktop */
@media screen and (min-width: 60em){
  .md-sidebar--secondary{
    display: block !important;
    visibility: visible !important;
  }
}

/* ==========================================================================
   Left sidebar navigation (primary)
   ========================================================================== */

/* Base typography */
.md-sidebar--primary .md-nav__title,
.md-sidebar--primary .md-nav__link{
  font-size: 14.4px !important;
  line-height: 1.22 !important;
}

/* --- Active trail text --- */
.md-sidebar--primary .md-nav__link--active,
.md-sidebar--primary .md-nav__item--active > .md-nav__link,
.md-sidebar--primary .md-nav__link[aria-current="page"],
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* Primary nav gutter (reserve space for the bar; keep sibling alignment) */
.md-sidebar--primary .md-nav__link,
.md-sidebar--primary .md-nav__item .md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container{
  padding-left: 18px !important;
  box-sizing: border-box;
  position: relative; /* anchor for ::before */
}

/* md-nav__container fix: prevent “double indent” for sections with index.md */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link{
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Prevent double bars inside container */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link::before,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link::before{
  content: none !important;
}

/* Bar: follow the item container height (works for single-line and multi-line) */
.md-sidebar--primary .md-nav__link--active:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__item--active > .md-nav__link:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__link[aria-current="page"]::before,
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container:not([aria-current="page"])::before{
  content: "";
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--fs-accent);
  border-radius: 2px;
  pointer-events: none;
}

/* Hide the "Table of contents" toggle that can appear in the LEFT nav */
.md-sidebar--primary label.md-nav__link[for="__toc"],
.md-sidebar--primary a.md-nav__link[href="#__toc"],
.md-sidebar--primary .md-nav__icon--toc,
.md-sidebar--primary .md-nav__link[for="__toc"],
.md-sidebar--primary .md-nav__link[href="#__toc"]{
  display: none !important;
}

/* Keep nested nav clean (no extra guide lines) */
.md-sidebar--primary .md-nav__item .md-nav{
  border-left: none !important;
}

/* ==========================================================================
   Right TOC (secondary sidebar)
   ========================================================================== */

/* Force whole secondary sidebar baseline */
.md-sidebar--secondary,
.md-sidebar--secondary .md-sidebar__scrollwrap,
.md-sidebar--secondary .md-sidebar__inner{
  font-size: 14.4px !important;
}

/* Rename TOC title text visually (Material default: "Table of contents") */
.md-sidebar--secondary .md-nav--secondary .md-nav__title{
  font-size: 0 !important;
  color: transparent !important;
  margin-bottom: 0.25rem !important;
  position: relative !important;
}
.md-sidebar--secondary .md-nav--secondary .md-nav__title::before{
  content: "On this page" !important;
  font-size: 14.4px !important;
  color: var(--md-default-fg-color--light) !important;
  letter-spacing: 0.02em;
}

/* Tighter TOC spacing (your request) */
.md-sidebar--secondary .md-nav--secondary .md-nav__link{
  font-size: 14.4px !important;
  line-height: 1.12 !important;
  padding: 0.06rem 0 !important;
}
.md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav{
  padding-left: 14px !important;
  margin-left: 0 !important;
}
.md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav .md-nav__link{
  font-size: 14.4px !important;
  line-height: 1.12 !important;
  padding: 0.05rem 0 !important;
}

/* Right TOC active item: brand color + bold */
.md-sidebar--secondary .md-nav--secondary .md-nav__item--active > .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__link--active{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* ==========================================================================
   Content typography
   ========================================================================== */

/* Breadcrumb links (no blue) */
.md-content__nav a{
  color: var(--md-default-fg-color--light) !important;
  text-decoration: none !important;
}
.md-content__nav a:hover{
  color: var(--fs-accent) !important;
}

/* Force body/content typography to 16px */
.md-typeset{
  font-size: 16px !important;
  line-height: 1.8 !important;
}

.md-typeset h1{
  color: var(--fs-accent);
  font-weight: 800;
  margin-top: 0;
}
.md-typeset a{
  color: var(--fs-accent);
}

/* ==========================================================================
   Mobile fixes: header title centering + drawer back arrow overlap
   (DO NOT touch palette toggle visibility; let theme handle it)
   ========================================================================== */
@media screen and (max-width: 59.9375em){

  /* Header height + true vertical centering */
  .md-header__inner{
    display: flex !important;
    align-items: center !important;
    min-height: 48px !important;
    padding: 0 12px !important;
  }
  .md-header__title{
    position: static !important;
    display: flex !important;
    align-items: center !important;
    flex: 1 1 auto !important;
    min-width: 0 !important;
    margin: 0 !important;
    padding: 0 12px !important;
  }
  .md-header__ellipsis,
  .md-header__topic,
  .md-header__topic .md-ellipsis{
    display: flex !important;
    align-items: center !important;
    height: 100% !important;
    line-height: 1.15 !important;
    padding: 0 !important;
  }
  /* Keep only site name line */
  .md-header__topic + .md-header__topic{
    display: none !important;
  }

  /* Drawer title row: reserve space for back arrow so it never overlaps text */
  .md-sidebar--primary .md-nav__title{
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    min-height: 48px !important;
    height: 48px !important;
    box-sizing: border-box !important;
    padding: 0 16px 0 56px !important; /* left padding reserves back icon */
  }
  /* Back button placement */
  .md-sidebar--primary .md-nav__title .md-nav__button{
    position: absolute !important;
    left: 12px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    margin: 0 !important;
  }

  /* Ensure the title text is centered within its own line box */
  .md-sidebar--primary .md-nav__title .md-ellipsis{
    line-height: 1.15 !important;
    padding: 0 !important;
  }
}


/* =========================================================
   V15.2 - Layout width tuning (NVIDIA-like reading width)
   Goals:
   - Wider center content (less cramped)
   - Slightly wider left nav and right TOC (balanced)
   Notes:
   - Material for MkDocs sets overall content width via .md-grid max-width.
     We override it on larger screens (desktop/tablet landscape).
   ========================================================= */

/* ---------------------------------------------------------------------------
   NVIDIA-like layout proportions (v15)
   Goal:
   - Wider reading column (less “too narrow”)
   - Left nav + right “On this page” sidebars similar to NVIDIA docs proportions
   - Keep overall page centered with a sane max width
--------------------------------------------------------------------------- */

@media (min-width: 60em) {
  /* Use Material layout variables so content and sidebars stay in sync */
  :root {
    /* Remove the huge auto-padding that comes from centering a fixed max-width grid */
    --md-grid-max-width: 100%;
    /* NVIDIA-like ratios */
    --md-sidebar-width: 16rem;            /* left nav */
    --md-sidebar-width--secondary: 15rem; /* right "On this page" */
  }

  /* Ensure the main grid can actually expand */
  .md-grid,
  .md-main__inner {
    max-width: 100%;
  }

  /* Sidebar inner padding: keep a small, constant inset (no calc-based giant padding) */
  .md-sidebar__inner {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  .md-sidebar--primary {
    width: var(--md-sidebar-width);
  }
  .md-sidebar--secondary {
    width: var(--md-sidebar-width--secondary);
  }

  /* Make the article column fill available space and grow wider */
  .md-content {
    max-width: none;
  }
  .md-content__inner {
    max-width: 64rem;       /* wider reading column (about 1024px) */
    margin-left: auto;
    margin-right: auto;
    padding-left: 1.6rem;   /* comfortable gutter */
    padding-right: 1.6rem;
  }
}


/* On very wide screens, allow a bit more width (still readable) */
@media (min-width: 90em) {
  .md-content__inner{
    max-width: 68rem; /* ~1088px */
  }
}
/* ============================================================
   v15.3 — Layout micro-tuning (desktop)
   Goals:
   1) Keep the left divider position unchanged
   2) Move the left-nav expand/collapse arrow closer to the divider
      (match the right sidebar content-to-divider inset)
   3) Keep left/right sidebar widths visually consistent
   ============================================================ */

/* Keep both sidebars equal width on desktop (no special-casing ultra-wide) */
@media (min-width: 60em) {
  .md-sidebar--primary  { width: 18rem; }
  .md-sidebar--secondary{ width: 18rem; }
}

/* Reduce extra right padding in the left sidebar so the arrow can sit closer to the divider */
@media (min-width: 60em) {
  .md-sidebar--primary .md-sidebar__inner{
    padding-right: 12px !important;
  }
}

/* Place the expand/collapse icon closer to the divider, and reserve space so text never overlaps it */
@media (min-width: 60em) {
  /* Reserve space on the right side of links so the icon can float there */
  .md-sidebar--primary .md-nav__link{
    padding-right: 52px !important; /* 12px inset + 24px icon + buffer */
  }

  /* Material sometimes uses a span.md-nav__icon (with ::after). Make it "dock" to the right. */
  .md-sidebar--primary .md-nav__item--nested > .md-nav__link{
    position: relative;
  }
  .md-sidebar--primary .md-nav__item--nested > .md-nav__link .md-nav__icon{
    position: absolute;
    right: 12px;          /* distance from divider ≈ right sidebar inset */
    top: 50%;
    transform: translateY(-50%);
    margin: 0 !important;
  }

  /* Fallback: if the icon is implemented via pseudo-element on the link */
  .md-sidebar--primary .md-nav__item--nested > .md-nav__link::after{
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
  }
}
