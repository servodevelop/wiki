/* ==========================================================================
   Fashion Star Wiki - V14.3 (V14.2 + tighter TOC + hide mobile logo)
   Fix: primary-nav active purple bar stretches to link height (single-line ~19.8px)
   Brand accent: #8641A9 | Dark bg: #131314
   ========================================================================== */

/* Brand + remove "default blue" by setting BOTH primary & accent tokens */
:root{
  --fs-accent: #8641A9;

  --fs-divider: rgba(0,0,0,0.12);

  --md-primary-fg-color: var(--fs-accent);
  --md-accent-fg-color: var(--fs-accent);
  --md-accent-fg-color--transparent: rgba(134, 65, 169, 0.12);

  --md-typeset-a-color: var(--fs-accent);
  --md-typeset-line-height: 1.8;
  --md-typeset-font-size: 16px;
}

/* Dark scheme */
[data-md-color-scheme="slate"]{
  --fs-divider: rgba(255,255,255,0.10);
  --md-default-bg-color: #131314;
  --md-default-bg-color--light: #1e1f20;
  --md-default-fg-color: #e3e3e3;
  --md-default-fg-color--light: #8e918f;
  --md-code-bg-color: #1e1f20;
}

/* Header */
.md-header{
  background-color: var(--fs-accent) !important;
}

/* Optional: hide the logo button if you don't use a logo image */
.md-header__button.md-logo{
  display: none;
}

/* Keep layout stable: DO NOT force .md-main__inner to flex/grid */


/* Divider lines between columns (stable after JS hydration)
   Draw lines on the middle content column so they always match content height. */
@media screen and (min-width: 60em){
  .md-content{
    position: relative !important;
    z-index: 2 !important;
    min-height: 100vh;
    /* Left divider only */
    box-shadow:
      inset 1px 0 0 var(--fs-divider) !important;
  }
}

/* Sidebars keep their normal stacking; no borders needed */

/* Right divider that ends with the TOC content height (not full viewport) */
@media screen and (min-width: 60em){
  .md-sidebar--secondary .md-nav--secondary{
    position: relative !important;
    padding-left: 14px !important; /* space between line and text */
  }
  .md-sidebar--secondary .md-nav--secondary::before{
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background: var(--fs-divider);
    pointer-events: none;
  }
}

.md-sidebar--primary{ border-right: none !important; }
.md-sidebar--secondary{ border-left: none !important; margin-left: 0 !important; }


/* Ensure the right TOC sidebar remains visible on desktop */
@media screen and (min-width: 60em){
  .md-sidebar--secondary{
    display: block !important;
    visibility: visible !important;
  }
}

/* NVIDIA-like active trail indicator (3px brand bar on current item + ancestors) */
.md-sidebar--primary .md-nav__link{
  position: relative; /* anchor for the bar */
}

/* Active text: brand color + semi-bold */
.md-sidebar--primary .md-nav__link--active,
.md-sidebar--primary .md-nav__item--active > .md-nav__link,
.md-sidebar--primary .md-nav__link[aria-current="page"]{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* 3px brand bar on active trail */
.md-sidebar--primary .md-nav__link--active:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__item--active > .md-nav__link:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__link[aria-current="page"]::before{
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  /* follow the link/container height (single-line ~19.8px, multiline grows) */
  left: 8px;
  width: 3px;
  background: var(--fs-accent);
  border-radius: 2px;
  pointer-events: none;
}

/* Primary nav gutter for active trail bar (keep sibling alignment)
   Bar: 3px @ left 8px, Gap: 7px, Total gutter: 18px */
.md-sidebar--primary .md-nav__link,
.md-sidebar--primary .md-nav__item .md-nav__link{
  padding-left: 18px !important;
  box-sizing: border-box;
  font-size: 14.4px !important;
  line-height: 1.22 !important;
}

/* Keep nested nav clean (no extra guide lines) */
.md-sidebar--primary .md-nav__item .md-nav{
  border-left: none !important;
}

/* Hide the "Table of contents" toggle that can appear in the LEFT nav */
.md-sidebar--primary label.md-nav__link[for="__toc"],
.md-sidebar--primary a.md-nav__link[href="#__toc"],
.md-sidebar--primary .md-nav__icon--toc,
.md-sidebar--primary .md-nav__link[for="__toc"],
.md-sidebar--primary .md-nav__link[href="#__toc"]{
  display: none !important;
}

/* Breadcrumb links (no blue) */
.md-content__nav a{
  color: var(--md-default-fg-color--light) !important;
  text-decoration: none !important;
}
.md-content__nav a:hover{
  color: var(--fs-accent) !important;
}

/* Force body/content typography to 16px (explicit px, not rem) */
.md-typeset{
  font-size: 16px !important;
  line-height: 1.8 !important;
}

/* Headings + links */
.md-typeset h1{
  color: var(--fs-accent);
  font-weight: 800;
  margin-top: 0;
}
.md-typeset a{
  color: var(--fs-accent);
}

/* ==========================================================================
   Right TOC (secondary sidebar) - FORCE 14.4px (with indent)
   ========================================================================== */

/* Force the whole secondary sidebar typography baseline */
.md-sidebar--secondary,
.md-sidebar--secondary .md-sidebar__scrollwrap,
.md-sidebar--secondary .md-sidebar__inner{
  font-size: 14.4px !important;
}

/* Rename TOC title text visually (Material default: "Table of contents") */
.md-sidebar--secondary .md-nav--secondary .md-nav__title{
  /* hide original text */
  font-size: 0 !important;
  color: transparent !important;
  margin-bottom: 0.25rem !important;
  position: relative !important;
}
.md-sidebar--secondary .md-nav--secondary .md-nav__title::before{
  content: "On this page" !important;
  font-size: 14.4px !important;
  color: var(--md-default-fg-color--light) !important;
  letter-spacing: 0.02em;
}

/* Any TOC link in the secondary nav */
.md-sidebar--secondary .md-nav--secondary a.md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__link,
.md-sidebar--secondary nav.md-nav--secondary .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__item > .md-nav__link{
  font-size: 14.4px !important;
  line-height: 1.22 !important;
  padding: 0.12rem 0 !important;
}

/* Nested TOC list indentation (2nd level and deeper) */
.md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav{
  padding-left: 14px !important;
  margin-left: 0 !important;
}

/* Right TOC active item: brand color + bold */
.md-sidebar--secondary .md-nav--secondary .md-nav__item--active > .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__link--active{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* ==========================================================================
   V14 PATCH: Fix primary nav alignment for items rendered as md-nav__container
   (these happen when a nav entry is both a link + a toggle, e.g. index.md)
   ========================================================================== */

/* 1) Ensure ALL top-level clickable items (a/label/div container) share same gutter */
.md-sidebar--primary .md-nav__item > a.md-nav__link,
.md-sidebar--primary .md-nav__item > label.md-nav__link,
.md-sidebar--primary .md-nav__item > div.md-nav__link,
.md-sidebar--primary .md-nav__item > .md-nav__link.md-nav__container{
  padding-left: 18px !important;
  box-sizing: border-box;
}

/* 2) If the item is a container, remove extra inner padding so text doesn't "double-indent" */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link{
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* 3) Active color/bold should apply to the inner <a>/<label> inside the container too */
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container > a.md-nav__link,
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container > label.md-nav__link{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* 4) Prevent double bars: never draw ::before on inner links/labels inside a container */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link::before,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link::before{
  content: none !important;
}

/* ==========================================================================
   V14.2 Patch
   1) Mobile: hide logo button (book icon) in header
   2) Primary nav: vertically center text vs active-trail bar for ALL item types
   ========================================================================== */

/* 1) Hide header logo button (especially on mobile) */
.md-header__button.md-logo{
  display: none !important;
}
@media screen and (max-width: 59.984375em){
  .md-header__button.md-logo{
    display: none !important;
  }
  /* remove the empty gap left by logo */
  .md-header__title{
    margin-left: 0 !important;
  }
}

/* 2) Vertically center left-nav item text for a/label/div containers */
.md-sidebar--primary .md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container,
.md-sidebar--primary a.md-nav__link,
.md-sidebar--primary label.md-nav__link{
  display: flex !important;
  align-items: center !important;
}

/* Normalize the line box so 14.4px text sits visually centered in the item row */
.md-sidebar--primary .md-nav__link .md-ellipsis,
.md-sidebar--primary .md-nav__link.md-nav__container .md-ellipsis{
  line-height: 1.375 !important;   /* 14.4px * 1.375 = 19.8px */
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* Ensure the clickable row height matches the bar height target */
.md-sidebar--primary .md-nav__link{
  min-height: 19.8px !important;
}

/* ==========================================================================
   V14.3 tweaks
   1) Right TOC: tighter line spacing for long TOCs
   2) Mobile drawer: hide logo icon, keep only site title, reduce title bar height
   ========================================================================== */

/* 1) Right TOC spacing (desktop) */
@media screen and (min-width: 60em){
  /* remove extra vertical whitespace between items */
  .md-sidebar--secondary .md-nav--secondary .md-nav__list,
  .md-sidebar--secondary .md-nav--secondary .md-nav__item{
    margin: 0 !important;
  }

  /* make each line more compact */
  .md-sidebar--secondary .md-nav--secondary .md-nav__link{
    line-height: 1.12 !important;
    padding: 0.06rem 0 !important;
  }

  /* nested items: same compactness, keep indent */
  .md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav{
    padding-left: 12px !important;
  }
  .md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav .md-nav__link{
    line-height: 1.12 !important;
    padding: 0.06rem 0 !important;
  }
}

/* 2) Mobile: hide logo icon in header & drawer title; shrink the purple title area */
@media screen and (max-width: 59.9375em){
  /* header logo button */
  .md-header__button.md-logo,
  .md-header__button.md-logo img,
  .md-header__button.md-logo svg{
    display: none !important;
  }

  /* drawer (left sidebar) title area often contains the logo */
  .md-sidebar--primary .md-nav__title .md-logo,
  .md-sidebar--primary .md-nav__title .md-nav__button.md-logo,
  .md-sidebar--primary .md-nav__title .md-nav__button.md-logo img,
  .md-sidebar--primary .md-nav__title .md-nav__button.md-logo svg{
    display: none !important;
  }

  /* reduce the drawer title bar height/padding */
  .md-sidebar--primary .md-nav__title{
    padding: 0.6rem 0.8rem !important;
    min-height: 0 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0 !important;
  }

  /* keep title text only */
  .md-sidebar--primary .md-nav__title,
  .md-sidebar--primary .md-nav__title a,
  .md-sidebar--primary .md-nav__title span{
    line-height: 1.2 !important;
  }
}
/* ==========================================================================
   V14.4 - Mobile drawer header height tighten (hide logo already, reduce purple block)
   ========================================================================== */
@media screen and (max-width: 59.9375em){

  /* Top app header (when drawer is closed) */
  .md-header{
    min-height: 44px !important;
    height: auto !important;
  }
  .md-header__inner{
    height: 44px !important;
    padding: 0 12px !important;
    align-items: center !important;
  }
  .md-header__title{
    line-height: 44px !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Drawer opened: the big purple "site name" block comes from the nav title.
     Make it compact and vertically centered. */
  .md-sidebar--primary .md-nav__title{
    display: flex !important;
    align-items: center !important;
    height: 48px !important;
    min-height: 48px !important;
    padding: 0 16px !important;
    box-sizing: border-box !important;
  }

  /* If any logo button sneaks into the drawer title, hide it */
  .md-sidebar--primary .md-nav__title .md-nav__button.md-logo,
  .md-sidebar--primary .md-nav__title .md-header__button.md-logo{
    display: none !important;
  }
}


/* ==========================================================================
   V14.5 - Mobile drawer nested-title: fix back arrow overlapping section title
   Reason: .md-nav__button inside .md-nav__title can be absolutely positioned by theme.
   Fix: force it into normal flex flow (no absolute positioning), add small gap.
   ========================================================================== */
@media screen and (max-width: 59.9375em){
  .md-sidebar--primary .md-nav__title{
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
  }

  /* Put the back button in the flex flow so it cannot overlap the title text */
  .md-sidebar--primary .md-nav__title > .md-nav__button{
    position: static !important;
    top: auto !important;
    left: auto !important;
    transform: none !important;
    margin: 0 !important;
    flex: 0 0 auto !important;
  }
}
