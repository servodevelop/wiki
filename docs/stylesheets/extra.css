/* ==========================================================================
   Fashion Star Wiki - V18.4 (Stable)
   Base: V15.1 stable overrides + tuned desktop container width + font tweaks
   Current targets (desktop >= 60em):
   - Total container max-width: 1380px  (≈ 242 + 896 + 242)
   - Left nav font: 16px
   - Right TOC font (ALL levels + title): 12.8px
   - Right TOC nested indent: 2px
   - Keep palette toggle WORKING (do not hide/force toggle labels)
   Brand accent: #8641A9 | Dark bg: #131314
   ========================================================================== */

/* Brand + remove "default blue" by setting BOTH primary & accent tokens */
:root{
  --fs-accent: #8641A9;
  --fs-divider: rgba(0,0,0,0.12);

  --md-primary-fg-color: var(--fs-accent);
  --md-accent-fg-color: var(--fs-accent);
  --md-accent-fg-color--transparent: rgba(134, 65, 169, 0.12);

  --md-typeset-a-color: var(--fs-accent);
  --md-typeset-line-height: 1.6;
  --md-typeset-font-size: 16px;
}

/* Dark scheme */
[data-md-color-scheme="slate"]{
  --fs-divider: rgba(255,255,255,0.10);
  --md-default-bg-color: #131314;
  --md-default-bg-color--light: #1e1f20;
  --md-default-fg-color: #e3e3e3;
  --md-default-fg-color--light: #8e918f;
  --md-code-bg-color: #1e1f20;
}

/* Header */
.md-header{
  background-color: var(--fs-accent) !important;
}

/* Hide the logo button everywhere (you only want “Fashion Star Wiki”) */
.md-header__button.md-logo{
  display: none !important;
}

/* ==========================================================================
   Desktop layout + dividers
   ========================================================================== */
@media screen and (min-width: 60em){

  /* Total container width (main lever for content width) */
  .md-grid{
    max-width: 1380px !important; /* 242 + 896 + 242 */
  }

  /* Left divider line: draw on content column so it matches content height */
  .md-content{
    position: relative !important;
    z-index: 2 !important;
    min-height: 100vh;
    box-shadow: inset 1px 0 0 var(--fs-divider) !important;
  }

  /* Right divider line: ends with TOC content height */
  .md-sidebar--secondary .md-nav--secondary{
    position: relative !important;
    padding-left: 14px !important; /* gap between divider line and TOC text */
  }
  .md-sidebar--secondary .md-nav--secondary::before{
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background: var(--fs-divider);
    pointer-events: none;
  }

  /* Keep the right TOC sidebar visible on desktop */
  .md-sidebar--secondary{
    display: block !important;
    visibility: visible !important;
  }
}

.md-sidebar--primary{ border-right: none !important; }
.md-sidebar--secondary{ border-left: none !important; margin-left: 0 !important; }

/* ==========================================================================
   Left sidebar navigation (primary)
   ========================================================================== */

/* Base typography (user request: 16px) */
.md-sidebar--primary .md-nav__title,
.md-sidebar--primary .md-nav__link{
  font-size: 16px !important;
  line-height: 1.22 !important;
}

/* Active trail text */
.md-sidebar--primary .md-nav__link--active,
.md-sidebar--primary .md-nav__item--active > .md-nav__link,
.md-sidebar--primary .md-nav__link[aria-current="page"],
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* Primary nav gutter (reserve space for the bar; keep sibling alignment) */
.md-sidebar--primary .md-nav__link,
.md-sidebar--primary .md-nav__item .md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container,
.md-sidebar--primary .md-nav__link--active,
.md-sidebar--primary .md-nav__item--active > .md-nav__link,
.md-sidebar--primary .md-nav__link[aria-current="page"]{
  padding-left: 18px !important; /* prevents bar/title overlap */
  box-sizing: border-box;
  position: relative; /* anchor for ::before */
}

/* md-nav__container fix: prevent “double indent” for sections with index.md */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link{
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Prevent double bars inside container */
.md-sidebar--primary .md-nav__link.md-nav__container > a.md-nav__link::before,
.md-sidebar--primary .md-nav__link.md-nav__container > label.md-nav__link::before{
  content: none !important;
}

/* Active bar: follow container height (good for multi-line titles) */
.md-sidebar--primary .md-nav__link--active:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__item--active > .md-nav__link:not([aria-current="page"])::before,
.md-sidebar--primary .md-nav__link[aria-current="page"]::before,
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container:not([aria-current="page"])::before{
  content: "";
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--fs-accent);
  border-radius: 2px;
  pointer-events: none;
}

/* Hide the "Table of contents" toggle that can appear in the LEFT nav */
.md-sidebar--primary label.md-nav__link[for="__toc"],
.md-sidebar--primary a.md-nav__link[href="#__toc"],
.md-sidebar--primary .md-nav__icon--toc,
.md-sidebar--primary .md-nav__link[for="__toc"],
.md-sidebar--primary .md-nav__link[href="#__toc"]{
  display: none !important;
}

/* Keep nested nav clean (no extra guide lines) */
.md-sidebar--primary .md-nav__item .md-nav{
  border-left: none !important;
}

/* ==========================================================================
   Right TOC (secondary sidebar) - 12.8px for ALL levels + title
   ========================================================================== */

/* Baseline */
.md-sidebar--secondary,
.md-sidebar--secondary .md-sidebar__scrollwrap,
.md-sidebar--secondary .md-sidebar__inner{
  font-size: 12.8px !important;
}

/* Title: visually rename to "On this page" */
.md-sidebar--secondary .md-nav--secondary .md-nav__title{
  font-size: 0 !important;
  color: transparent !important;
  margin-bottom: 0.25rem !important;
  position: relative !important;
}
.md-sidebar--secondary .md-nav--secondary .md-nav__title::before{
  content: "On this page" !important;
  font-size: 12.8px !important;
  color: var(--md-default-fg-color--light) !important;
  letter-spacing: 0.02em;
}

/* Link spacing */
.md-sidebar--secondary .md-nav--secondary .md-nav__link,
.md-sidebar--secondary .md-nav--secondary a.md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__item > .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav .md-nav__link{
  font-size: 12.8px !important;
  line-height: 1.12 !important;
  padding: 0.06rem 0 !important;
}

/* Nested indent (user final choice: 2px) */
.md-sidebar--secondary .md-nav--secondary .md-nav__item .md-nav{
  padding-left: 2px !important;
  margin-left: 0 !important;
}

/* Active TOC item */
.md-sidebar--secondary .md-nav--secondary .md-nav__item--active > .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__link--active{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}

/* ==========================================================================
   Content typography
   ========================================================================== */

/* Breadcrumb links (no blue) */
.md-content__nav a{
  color: var(--md-default-fg-color--light) !important;
  text-decoration: none !important;
}
.md-content__nav a:hover{
  color: var(--fs-accent) !important;
}

/* Body typography */
.md-typeset{
  font-size: 16px !important;
  line-height: 1.6 !important;
}

.md-typeset h1{
  color: var(--fs-accent);
  font-weight: 800;
  margin-top: 0;
}
.md-typeset a{
  color: var(--fs-accent);
}

/* ==========================================================================
   Safety clamps (prevents “image goes under sidebar” visual issues)
   ========================================================================== */
.md-typeset img,
.md-typeset svg,
.md-typeset video,
.md-typeset iframe{
  max-width: 100% !important;
  height: auto !important;
}
.md-typeset figure,
.md-typeset table{
  max-width: 100% !important;
}
.md-typeset__scrollwrap{
  overflow-x: auto !important;
}

/* ==========================================================================
   Mobile fixes: header title centering + drawer back arrow overlap
   (DO NOT touch palette toggle visibility; let theme handle it)
   ========================================================================== */
@media screen and (max-width: 59.9375em){

  /* Header height + true vertical centering */
  .md-header__inner{
    display: flex !important;
    align-items: center !important;
    min-height: 48px !important;
    padding: 0 12px !important;
  }
  .md-header__title{
    position: static !important;
    display: flex !important;
    align-items: center !important;
    flex: 1 1 auto !important;
    min-width: 0 !important;
    margin: 0 !important;
    padding: 0 12px !important;
  }
  .md-header__ellipsis,
  .md-header__topic,
  .md-header__topic .md-ellipsis{
    display: flex !important;
    align-items: center !important;
    height: 100% !important;
    line-height: 1.15 !important;
    padding: 0 !important;
  }
  /* Keep only site name line */
  .md-header__topic + .md-header__topic{
    display: none !important;
  }

  /* Drawer title row: reserve space for back arrow so it never overlaps text */
  .md-sidebar--primary .md-nav__title{
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    min-height: 48px !important;
    height: 48px !important;
    box-sizing: border-box !important;
    padding: 0 16px 0 56px !important; /* left padding reserves back icon */
  }
  /* Back button placement */
  .md-sidebar--primary .md-nav__title .md-nav__button{
    position: absolute !important;
    left: 12px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    margin: 0 !important;
  }

  /* Ensure the title text is centered within its own line box */
  .md-sidebar--primary .md-nav__title .md-ellipsis{
    line-height: 1.15 !important;
    padding: 0 !important;
  }
}

/* ==========================================================================
   Mobile: hide logo icon everywhere (keep title only)
   ========================================================================== */
@media screen and (max-width: 59.9375em){
  .md-header__button.md-logo,
  .md-header__button.md-logo *,
  .md-nav__title .md-logo,
  .md-nav__title .md-logo *,
  .md-nav__button.md-logo,
  .md-nav__button.md-logo *{
    display: none !important;
  }

  /* Keep the drawer title aligned after removing the logo */
  .md-nav__title{
    padding-left: 16px !important;
  }
}

/* ==========================================================================
   V18.2 patch (based on V18.1 stable)
   1) Level-1 items: font-weight 600
   2) Keep level-2 nav always expanded (no need to click to open)
   NOTE: Visual/active effects remain as-is.
   ========================================================================== */

/* 1) Level-1 (top-level) nav items in the LEFT sidebar */
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item > .md-nav__link,
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item > .md-nav__link.md-nav__container,
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item > .md-nav__link.md-nav__container > a.md-nav__link,
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item > .md-nav__link.md-nav__container > label.md-nav__link{
  font-weight: 600 !important;
}

@media screen and (min-width: 60em){
/* 2) Always show level-2 items (children of the level-1 items) */
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item--nested > .md-nav{
  display: block !important;
  height: auto !important;
  max-height: none !important;
  opacity: 1 !important;
  visibility: visible !important;
  transform: none !important;
}

/* Some Material versions animate/collapse via the sibling selector:
   input ~ .md-nav / input:checked ~ .md-nav. Force open in both states. */
.md-sidebar--primary .md-nav--primary > .md-nav__list > .md-nav__item--nested > input ~ .md-nav{
  display: block !important;
}



}

/* ==========================================================================
   V18.3 patch
   - Left nav text color:
     * light: #444746
     * slate: #C4C7C5
   - Remove chevron/arrow for 1st-level items in LEFT primary nav
   ========================================================================== */

/* Left nav text color tokens */
:root{ --fs-leftnav-fg: #444746; }
[data-md-color-scheme="slate"]{ --fs-leftnav-fg: #C4C7C5; }

/* Apply to left sidebar only (keep active/hover overrides intact) */
.md-sidebar--primary .md-nav__title,
.md-sidebar--primary .md-nav__link{
  color: var(--fs-leftnav-fg) !important;
}

/* Left sidebar active item keeps brand accent */
.md-sidebar--primary .md-nav__link--active,
.md-sidebar--primary .md-nav__item--active > .md-nav__link,
.md-sidebar--primary .md-nav__link[aria-current="page"],
.md-sidebar--primary .md-nav__item--active > .md-nav__link.md-nav__container{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}


@media screen and (min-width: 60em){
/* Remove 1st-level chevrons in the left primary nav (since level-2 is always expanded) */
.md-sidebar--primary nav.md-nav--primary > ul.md-nav__list > li.md-nav__item > label.md-nav__link > .md-nav__icon,
.md-sidebar--primary nav.md-nav--primary > ul.md-nav__list > li.md-nav__item > a.md-nav__link > .md-nav__icon{
  display: none !important;
}

/* Avoid reserving extra space for the removed icon */
.md-sidebar--primary nav.md-nav--primary > ul.md-nav__list > li.md-nav__item > label.md-nav__link,
.md-sidebar--primary nav.md-nav--primary > ul.md-nav__list > li.md-nav__item > a.md-nav__link{
  padding-right: 16px !important;
}


}

/* ==========================================================================
   V18.4 patch - content/TOC typography colors
   Requirements:
   - Left nav text color: dark #C4C7C5, light #444746
   - Content + right TOC text color (including headings): dark #E3E3E3, light #1F1F1F
   - Keep links in brand accent; remove brand accent from headings/TOC active color
   ========================================================================== */

:root{
  --fs-leftnav-fg: #444746;   /* light scheme */
  --fs-content-fg: #1F1F1F;   /* light scheme */
  --fs-toc-fg: #1F1F1F;       /* light scheme */
}

[data-md-color-scheme="slate"]{
  --fs-leftnav-fg: #C4C7C5;   /* dark scheme */
  --fs-content-fg: #E3E3E3;   /* dark scheme */
  --fs-toc-fg: #E3E3E3;       /* dark scheme */
}

/* Left sidebar base text color (keep existing active/hover behavior) */
.md-sidebar--primary .md-nav__title,
.md-sidebar--primary .md-nav__link{
  color: var(--fs-leftnav-fg) !important;
}

/* Content body + headings (stop forcing brand accent on headings) */
.md-typeset{
  color: var(--fs-content-fg) !important;
}

.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6{
  color: var(--fs-content-fg) !important;
}

/* Right TOC: title + links use the same text color; active uses weight only */
.md-sidebar--secondary .md-nav--secondary .md-nav__title::before{
  color: var(--fs-toc-fg) !important;
}

.md-sidebar--secondary .md-nav--secondary .md-nav__link{
  color: var(--fs-toc-fg) !important;
}

.md-sidebar--secondary .md-nav--secondary .md-nav__item--active > .md-nav__link,
.md-sidebar--secondary .md-nav--secondary .md-nav__link--active{
  color: var(--fs-accent) !important;
  font-weight: 600 !important;
}
/* ==========================================================================
   Fashion Star Wiki - V18.5 patch
   - Keep RIGHT TOC text color as configured
   - Restore CONTENT headings (h1-h6) to brand accent color
   ========================================================================== */

/* Content headings keep logo color (both light & dark) */
.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6{
  color: var(--fs-accent) !important;
}


/* ==========================================================================
   V18.7 patch - Headings color matches normal text (no logo accent on headings)
   ========================================================================== */
.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6{
  color: inherit !important;
}

/* ======================================================================
   V18.10 patch - Touch devices (iPhone/iPad): revert drawer navigation to
   V18.1 behavior (collapsible sections + chevrons/back works normally).

   Why:
   - iPad viewport can be >= 60em, so “desktop” rules that force level-2 open
     and hide top-level chevrons can break the mobile drawer UX.
   - We keep the desktop experience unchanged, but on touch devices we restore
     Material’s default toggle-driven expand/collapse.
   ====================================================================== */

/* Apply to touch-first devices (covers iPhone/iPad, even when wide) */
@media (hover: none) and (pointer: coarse){

  /* 1) Re-enable the 1st-level chevrons (they are useful in the drawer) */
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > label.md-nav__link .md-nav__icon,
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > a.md-nav__link .md-nav__icon{
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* 2) Restore collapsible behavior (don’t force all level-2 open) */
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested > .md-nav{
    display: none !important;
  }

  /* When the toggle is checked (Material), show the nested list */
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > input.md-nav__toggle:checked ~ .md-nav{
    display: block !important;
  }

  /* Keep the current active trail expanded for usability */
  .md-sidebar--primary .md-nav__item--active > .md-nav{
    display: block !important;
  }

  /* 3) Undo the “arrow space removal” padding tweaks intended for desktop */
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > label.md-nav__link,
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > a.md-nav__link{
    padding-right: 16px !important; /* back to a safe default */
  }
}

/* iPadOS can report pointer=fine when using a trackpad; ensure drawer still OK
   by also reverting when there’s no hover (touch) */
@media (hover: none){
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested > .md-nav{
    display: none !important;
  }
  .md-sidebar--primary
  .md-nav--primary > .md-nav__list > .md-nav__item--nested
  > input.md-nav__toggle:checked ~ .md-nav{
    display: block !important;
  }
}


/* ==========================================================================
   V18.13 patch - Headings weight: 700 for H1-H6 (colors unchanged)
   ========================================================================== */
.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6{
  font-weight: 700 !important;
}
