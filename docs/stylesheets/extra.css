/* === v24 hotfix: mobile TOC icon rendering & stray icon suppression === */

@media screen and (max-width: 59.9375em){
  /* 0) Kill any accidental hamburger glyph that was applied globally */
  .md-sidebar--primary .md-nav__icon.md-icon::after,
  .md-sidebar--primary .md-nav__icon.md-icon:after{
    content: none !important;
    -webkit-mask: none !important;
            mask: none !important;
    background: none !important;
  }

  /* 1) The ONLY place we draw the TOC hamburger is the label that toggles #__toc */
  .md-sidebar--primary label.md-nav__link[for="__toc"]{
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    gap: .5rem !important;
  }

  /* remove any built-in icon container inside that label (prevents duplicates) */
  .md-sidebar--primary label.md-nav__link[for="__toc"] .md-nav__icon,
  .md-sidebar--primary label.md-nav__link[for="__toc"] svg{
    display: none !important;
  }

  /* 2) Draw a crisp hamburger icon via SVG mask (does not depend on fonts) */
  .md-sidebar--primary label.md-nav__link[for="__toc"]::after{
    content: "" !important;
    width: 24px !important;
    height: 24px !important;
    flex: 0 0 24px !important;
    margin-left: auto !important;
    background-color: var(--md-primary-fg-color, #8641A9) !important;

    /* material-style hamburger (3 bars) */
    -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>') center / 24px 24px no-repeat !important;
            mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg>') center / 24px 24px no-repeat !important;
  }

  /* 3) Guardrail: if anything else still injects a pseudo-element on icons, hide it */
  .md-sidebar--primary .md-nav__link:not([for="__toc"]) .md-nav__icon.md-icon::after{
    content: none !important;
  }
}
