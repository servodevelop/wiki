/*
==========================================================================
Fashion Star Wiki - V25.1 (Refined)
找回 V21.0 灵魂细节：1380px 宽度、3px 悬浮竖线、FS 专属深色模式
==========================================================================
*/

/* 1. 核心变量与深浅色适配 */
:root {
  --fs-accent: #8641A9;
  --fs-divider: rgba(0,0,0,0.12);
  --md-primary-fg-color: var(--fs-accent);
  --md-accent-fg-color: var(--fs-accent);
  
  /* 找回 V21.0 浅色文字色 */
  --fs-leftnav-fg: #1A1A1A;
  --fs-content-fg: #1F1F1F;
}

/* 找回：FS 专属深色模式色号 */
[data-md-color-scheme="slate"] {
  --fs-divider: rgba(255,255,255,0.10);
  --md-default-bg-color: #131314;        /* 极黑背景 */
  --md-default-bg-color--light: #1e1f20;
  --md-default-fg-color: #e3e3e3;
  --md-default-fg-color--light: #8e918f;
  --md-code-bg-color: #1e1f20;
  --fs-leftnav-fg: #C4C7C5;
  --fs-content-fg: #E3E3E3;
}

/* 2. 布局：找回 1380px 黄金宽度 */
@media screen and (min-width: 60em) {
  .md-grid {
    max-width: 1380px !important;
  }
  
  /* 找回：内容区左侧的微阴影分割线 */
  .md-content {
    box-shadow: inset 1px 0 0 var(--fs-divider) !important;
  }
}

/* 3. 左侧导航：找回 3px 悬浮圆角竖线 */
.md-sidebar--primary .md-nav__link {
  font-size: 16px !important;
  color: var(--fs-leftnav-fg) !important;
  position: relative;
  padding-left: 20px !important; /* 为竖线留出空间 */
}

/* 实现原理：使用伪元素绘制不占位的竖线 */
.md-sidebar--primary .md-nav__item--active > .md-nav__link::before {
  content: "";
  position: absolute;
  left: 8px;      /* 距离文字左侧 8px */
  top: 0.2rem;
  bottom: 0.2rem;
  width: 3px;     /* 3px 粗细 */
  background: var(--fs-accent);
  border-radius: 2px;
}

/* 选中状态文字加粗 */
.md-sidebar--primary .md-nav__item--active > .md-nav__link {
  color: var(--fs-accent) !important;
  font-weight: 700 !important;
}

/* 4. 右侧目录 (TOC)：多语言修复 + 12.8px 规范 */
.md-sidebar--secondary .md-nav__title[for="__toc"] {
  font-size: 0 !important;
  line-height: 0 !important;
  color: transparent !important;
  padding: 0.8rem 0 !important;
}

.md-sidebar--secondary .md-nav__title[for="__toc"] .md-nav__icon {
  display: none !important;
}

.md-sidebar--secondary .md-nav__title[for="__toc"]::after {
  font-size: 12.8px !important; /* V21.0 规范 */
  font-weight: 700 !important;
  color: var(--md-default-fg-color--light) !important;
  display: block !important;
  visibility: visible !important;
}

/* 多语言映射保持不变 */
[lang="en"] .md-sidebar--secondary .md-nav__title[for="__toc"]::after { content: "On this page"; }
[lang="es"] .md-sidebar--secondary .md-nav__title[for="__toc"]::after { content: "En esta página"; }
[lang="ja"] .md-sidebar--secondary .md-nav__title[for="__toc"]::after { content: "このページの内容"; }

/* 5. 找回：正文 H1-H6 粗体与颜色 */
.md-typeset h1, .md-typeset h2, .md-typeset h3, 
.md-typeset h4, .md-typeset h5, .md-typeset h6 {
  font-weight: 700 !important;
  color: var(--fs-content-fg) !important;
}
.md-typeset h1 { color: var(--fs-accent) !important; } /* H1 保持品牌色 */

/* 6. 找回：Seeed 风格表格 (14px + 禁止换行) */
.md-typeset table:not([class]) {
  font-size: 14px !important;
  border: 1px solid var(--fs-divider) !important;
  width: 100%;
}

.md-typeset table:not([class]) th, 
.md-typeset table:not([class]) td {
  word-break: keep-all !important; /* 找回禁止数字/单词中途断开 */
  overflow-wrap: normal !important;
  padding: 10px 12px !important;
  border-right: 1px solid var(--fs-divider) !important;
}
